#0 building with "desktop-linux" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 2.78kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/bioconductor/bioconductor_docker:RELEASE_3_19-R-4.4.0
#2 ...

#3 [auth] bioconductor/bioconductor_docker:pull token for registry-1.docker.io
#3 DONE 0.0s

#2 [internal] load metadata for docker.io/bioconductor/bioconductor_docker:RELEASE_3_19-R-4.4.0
#2 DONE 0.7s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [ 1/11] FROM docker.io/bioconductor/bioconductor_docker:RELEASE_3_19-R-4.4.0@sha256:138d509e961b4cd00dd7cd6dd4d135d452d34c74c76b7df29b5ee3085064a69b
#5 DONE 0.0s

#6 [ 8/11] RUN pip install cmake --upgrade
#6 CACHED

#7 [ 2/11] RUN Rscript -e "    install.packages(c(        'bookdown',         'ComplexUpset',         'cowplot',         'dplyr',         'ggplot2',         'ggrepel',         'hdf5r',         'Hmisc',         'kableExtra',         'locfit',         'metap',         'patchwork',         'plotly',         'reticulate',         'Signac',         'tidyverse'));     BiocManager::install(c(        'AnnotationDbi',         'AnnotationFilter',         'batchelor',         'BiocGenerics',         'DelayedArray',         'DelayedMatrixStats',         'DESeq2',         'EnsDb.Mmusculus.v79',         'EnsDb.Hsapiens.v75',         'GenomeInfoDb',         'GenomicFeatures',         'GenomicRanges',         'ggbio',         'glmGamPoi',         'IRanges',         'limma',         'MAST',         'Matrix',         'Matrix.utils',         'motifmatchr',         'multtest',         'Rsamtools',         'S4Vectors',         'SingleCellExperiment',         'SummarizedExperiment'));" &&     rm -r /tmp/Rtmp*
#7 CACHED

#8 [ 6/11] RUN apt-get update &&     apt-get install -y fonts-dejavu libxkbcommon-x11-0 libatk-bridge2.0-0 libgtk-3-0 &&     wget -P /tmp/ https://s3.amazonaws.com/rstudio-ide-build/electron/jammy/amd64/rstudio-2023.09.1-494-amd64.deb &&     dpkg -i /tmp/rstudio-2023.09.1-494-amd64.deb &&     rm /tmp/rstudio-2023.09.1-494-amd64.deb
#8 CACHED

#9 [ 5/11] RUN mkdir -p /root/.local/share &&     echo "/miniconda/bin/conda" > /root/.local/share/r-miniconda
#9 CACHED

#10 [ 3/11] RUN Rscript -e "        library(devtools);         devtools::install_github('satijalab/seurat@v5.1.0');"
#10 CACHED

#11 [ 4/11] RUN wget -P /tmp https://repo.anaconda.com/miniconda/Miniconda3-py311_23.10.0-1-Linux-x86_64.sh &&     sha256sum /tmp/Miniconda3-py311_23.10.0-1-Linux-x86_64.sh &&     bash /tmp/Miniconda3-py311_23.10.0-1-Linux-x86_64.sh -p /miniconda -b &&     rm /tmp/Miniconda3-py311_23.10.0-1-Linux-x86_64.sh
#11 CACHED

#12 [ 7/11] RUN pip install scanpy loompy scvelo &&     pip cache purge
#12 CACHED

#13 [ 9/11] RUN Rscript -e "    install.packages('rliger');     install.packages('RcppPlanc', repos = 'https://welch-lab.r-universe.dev');"
#13 CACHED

#14 [10/11] RUN mkdir /opt/virtualenvs/ &&     export WORKON_HOME=/opt/virtualenvs ; Rscript -e "    library(reticulate);     virtualenv_create('r-reticulate');     virtualenv_install('r-reticulate', 'pandas');     virtualenv_install('r-reticulate', 'leidenalg');     install.packages('harmony');"
#14 CACHED

#15 [11/11] RUN Rscript -e "    BiocManager::install(c('TOAST', 'zellkonverter'));     install.packages('devtools');     devtools::install_github('xuranw/MuSiC');"
#15 1.889 'getOption("repos")' replaces Bioconductor standard repositories, see
#15 1.889 'help("repositories", package = "BiocManager")' for details.
#15 1.889 Replacement repositories:
#15 1.889     CRAN: https://p3m.dev/cran/__linux__/jammy/latest
#15 6.674 Bioconductor version 3.19 (BiocManager 1.30.23), R 4.4.0 (2024-04-24)
#15 6.674 Installing package(s) 'TOAST', 'zellkonverter'
#15 7.346 also installing the dependencies ‘proxy’, ‘e1071’, ‘locfdr’, ‘foreach’, ‘iterators’, ‘dir.expiry’, ‘basilisk.utils’, ‘EpiDISH’, ‘nnls’, ‘quadprog’, ‘corpcor’, ‘doParallel’, ‘basilisk’
#15 7.346 
#15 7.348 trying URL 'https://bioconductor.org/packages/3.19/container-binaries/bioconductor_docker/src/contrib/proxy_0.4-27_R_x86_64-pc-linux-gnu.tar.gz'
#15 8.020 Content type 'application/gzip' length 175545 bytes (171 KB)
#15 8.020 ==================================================
#15 8.035 downloaded 171 KB
#15 8.035 
#15 8.043 trying URL 'https://bioconductor.org/packages/3.19/container-binaries/bioconductor_docker/src/contrib/e1071_1.7-16_R_x86_64-pc-linux-gnu.tar.gz'
#15 8.524 Content type 'application/gzip' length 596107 bytes (582 KB)
#15 8.524 ==================================================
#15 8.603 downloaded 582 KB
#15 8.603 
#15 8.608 trying URL 'https://bioconductor.org/packages/3.19/container-binaries/bioconductor_docker/src/contrib/locfdr_1.1-8_R_x86_64-pc-linux-gnu.tar.gz'
#15 9.113 Content type 'application/gzip' length 305393 bytes (298 KB)
#15 9.114 ==================================================
#15 9.170 downloaded 298 KB
#15 9.170 
#15 9.176 trying URL 'https://bioconductor.org/packages/3.19/container-binaries/bioconductor_docker/src/contrib/foreach_1.5.2_R_x86_64-pc-linux-gnu.tar.gz'
#15 9.772 Content type 'application/gzip' length 139752 bytes (136 KB)
#15 9.772 ==================================================
#15 9.812 downloaded 136 KB
#15 9.812 
#15 9.816 trying URL 'https://bioconductor.org/packages/3.19/container-binaries/bioconductor_docker/src/contrib/iterators_1.0.14_R_x86_64-pc-linux-gnu.tar.gz'
#15 10.35 Content type 'application/gzip' length 346473 bytes (338 KB)
#15 10.35 ==================================================
#15 10.42 downloaded 338 KB
#15 10.42 
#15 10.42 trying URL 'https://bioconductor.org/packages/3.19/container-binaries/bioconductor_docker/src/contrib/dir.expiry_1.12.0_R_x86_64-pc-linux-gnu.tar.gz'
#15 10.89 Content type 'application/gzip' length 325929 bytes (318 KB)
#15 10.89 ==================================================
#15 10.95 downloaded 318 KB
#15 10.95 
#15 10.96 trying URL 'https://bioconductor.org/packages/3.19/container-binaries/bioconductor_docker/src/contrib/basilisk.utils_1.16.0_R_x86_64-pc-linux-gnu.tar.gz'
#15 11.48 Content type 'application/gzip' length 294726 bytes (287 KB)
#15 11.48 ==================================================
#15 11.54 downloaded 287 KB
#15 11.54 
#15 11.54 trying URL 'https://bioconductor.org/packages/3.19/container-binaries/bioconductor_docker/src/contrib/EpiDISH_2.20.1_R_x86_64-pc-linux-gnu.tar.gz'
#15 12.18 Content type 'application/gzip' length 1930016 bytes (1.8 MB)
#15 12.18 ==================================================
#15 12.28 downloaded 1.8 MB
#15 12.28 
#15 12.29 trying URL 'https://bioconductor.org/packages/3.19/container-binaries/bioconductor_docker/src/contrib/nnls_1.6_R_x86_64-pc-linux-gnu.tar.gz'
#15 12.68 Content type 'application/gzip' length 37010 bytes (36 KB)
#15 12.68 ==================================================
#15 12.69 downloaded 36 KB
#15 12.69 
#15 12.70 trying URL 'https://bioconductor.org/packages/3.19/container-binaries/bioconductor_docker/src/contrib/quadprog_1.5-8_R_x86_64-pc-linux-gnu.tar.gz'
#15 13.21 Content type 'application/gzip' length 30808 bytes (30 KB)
#15 13.21 ==================================================
#15 13.22 downloaded 30 KB
#15 13.22 
#15 13.23 trying URL 'https://bioconductor.org/packages/3.19/container-binaries/bioconductor_docker/src/contrib/corpcor_1.6.10_R_x86_64-pc-linux-gnu.tar.gz'
#15 13.76 Content type 'application/gzip' length 116055 bytes (113 KB)
#15 13.76 ==================================================
#15 13.79 downloaded 113 KB
#15 13.79 
#15 13.80 trying URL 'https://bioconductor.org/packages/3.19/container-binaries/bioconductor_docker/src/contrib/doParallel_1.0.17_R_x86_64-pc-linux-gnu.tar.gz'
#15 14.27 Content type 'application/gzip' length 188157 bytes (183 KB)
#15 14.27 ==================================================
#15 14.32 downloaded 183 KB
#15 14.32 
#15 14.33 trying URL 'https://bioconductor.org/packages/3.19/container-binaries/bioconductor_docker/src/contrib/basilisk_1.16.0_R_x86_64-pc-linux-gnu.tar.gz'
#15 14.96 Content type 'application/gzip' length 322276 bytes (314 KB)
#15 14.96 ==================================================
#15 15.02 downloaded 314 KB
#15 15.02 
#15 15.03 trying URL 'https://bioconductor.org/packages/3.19/container-binaries/bioconductor_docker/src/contrib/TOAST_1.18.0_R_x86_64-pc-linux-gnu.tar.gz'
#15 15.56 Content type 'application/gzip' length 3907306 bytes (3.7 MB)
#15 15.59 ==================================================
#15 15.86 downloaded 3.7 MB
#15 15.86 
#15 15.86 trying URL 'https://bioconductor.org/packages/3.19/container-binaries/bioconductor_docker/src/contrib/zellkonverter_1.14.1_R_x86_64-pc-linux-gnu.tar.gz'
#15 16.53 Content type 'application/gzip' length 1267293 bytes (1.2 MB)
#15 16.53 ==================================================
#15 16.54 downloaded 1.2 MB
#15 16.54 
#15 17.10 * installing *binary* package ‘proxy’ ...
#15 17.13 * DONE (proxy)
#15 17.67 * installing *binary* package ‘locfdr’ ...
#15 17.70 * DONE (locfdr)
#15 18.24 * installing *binary* package ‘iterators’ ...
#15 18.27 * DONE (iterators)
#15 18.82 * installing *binary* package ‘dir.expiry’ ...
#15 18.85 * DONE (dir.expiry)
#15 19.37 * installing *binary* package ‘nnls’ ...
#15 19.40 * DONE (nnls)
#15 19.91 * installing *binary* package ‘quadprog’ ...
#15 19.94 * DONE (quadprog)
#15 20.45 * installing *binary* package ‘corpcor’ ...
#15 20.49 * DONE (corpcor)
#15 21.03 * installing *binary* package ‘e1071’ ...
#15 21.06 * DONE (e1071)
#15 21.59 * installing *binary* package ‘foreach’ ...
#15 21.62 * DONE (foreach)
#15 22.15 * installing *binary* package ‘basilisk.utils’ ...
#15 22.19 * DONE (basilisk.utils)
#15 22.78 * installing *binary* package ‘EpiDISH’ ...
#15 22.82 * DONE (EpiDISH)
#15 23.35 * installing *binary* package ‘doParallel’ ...
#15 23.39 * DONE (doParallel)
#15 23.92 * installing *binary* package ‘basilisk’ ...
#15 23.95 * DONE (basilisk)
#15 24.57 * installing *binary* package ‘TOAST’ ...
#15 24.60 * DONE (TOAST)
#15 25.19 * installing *binary* package ‘zellkonverter’ ...
#15 25.22 * DONE (zellkonverter)
#15 25.26 
#15 25.26 The downloaded source packages are in
#15 25.26 	‘/tmp/Rtmp448eUB/downloaded_packages’
#15 26.18 Old packages: 'BiocManager', 'bookdown', 'checkmate', 'crayon', 'credentials',
#15 26.18   'crosstalk', 'curl', 'diffobj', 'docopt', 'downlit', 'evaluate', 'gert',
#15 26.18   'GGally', 'ggridges', 'gh', 'httr2', 'later', 'littler', 'Matrix',
#15 26.18   'patchwork', 'pkgbuild', 'pkgdown', 'pkgload', 'processx', 'profvis', 'ps',
#15 26.18   'ragg', 'RcppArmadillo', 'rliger', 'roxygen2', 'rprojroot', 'RSQLite',
#15 26.18   'rstudioapi', 'rvest', 'sessioninfo', 'Seurat', 'SeuratObject',
#15 26.18   'spatstat.data', 'testthat', 'textshaping', 'TH.data', 'usethis', 'waldo',
#15 26.18   'xfun', 'XML', 'xml2', 'zip', 'boot', 'class', 'cluster', 'foreign',
#15 26.18   'KernSmooth', 'lattice', 'MASS', 'mgcv', 'nlme', 'nnet', 'rpart', 'spatial',
#15 26.18   'survival'
#15 26.18 Installing package into ‘/usr/local/lib/R/site-library’
#15 26.18 (as ‘lib’ is unspecified)
#15 26.38 trying URL 'https://p3m.dev/cran/__linux__/jammy/latest/src/contrib/devtools_2.4.5.tar.gz'
#15 26.74 Content type 'binary/octet-stream' length 435688 bytes (425 KB)
#15 26.75 ==================================================
#15 26.79 downloaded 425 KB
#15 26.79 
#15 27.30 * installing *binary* package ‘devtools’ ...
#15 27.38 * DONE (devtools)
#15 27.41 
#15 27.41 The downloaded source packages are in
#15 27.41 	‘/tmp/Rtmp448eUB/downloaded_packages’
#15 28.82 Downloading GitHub repo xuranw/MuSiC@HEAD
#15 45.42 mcmc     (NA -> 0.9-8   ) [CRAN]
#15 45.42 coda     (NA -> 0.19-4.1) [CRAN]
#15 45.42 MCMCpack (NA -> 1.7-1   ) [CRAN]
#15 45.42 Skipping 3 packages not available: SingleCellExperiment, Biobase, TOAST
#15 45.42 Installing 3 packages: mcmc, coda, MCMCpack
#15 45.42 Installing packages into ‘/usr/local/lib/R/site-library’
#15 45.42 (as ‘lib’ is unspecified)
#15 45.62 trying URL 'https://p3m.dev/cran/__linux__/jammy/latest/src/contrib/mcmc_0.9-8.tar.gz'
#15 46.09 Content type 'binary/octet-stream' length 1379344 bytes (1.3 MB)
#15 46.09 ==================================================
#15 46.16 downloaded 1.3 MB
#15 46.16 
#15 46.17 trying URL 'https://p3m.dev/cran/__linux__/jammy/latest/src/contrib/coda_0.19-4.1.tar.gz'
#15 46.59 Content type 'binary/octet-stream' length 328771 bytes (321 KB)
#15 46.59 ==================================================
#15 46.62 downloaded 321 KB
#15 46.62 
#15 46.63 trying URL 'https://p3m.dev/cran/__linux__/jammy/latest/src/contrib/MCMCpack_1.7-1.tar.gz'
#15 47.21 Content type 'binary/octet-stream' length 2235653 bytes (2.1 MB)
#15 47.22 ==================================================
#15 47.36 downloaded 2.1 MB
#15 47.36 
#15 47.94 * installing *binary* package ‘mcmc’ ...
#15 47.97 * DONE (mcmc)
#15 48.49 * installing *binary* package ‘coda’ ...
#15 48.52 * DONE (coda)
#15 49.14 * installing *binary* package ‘MCMCpack’ ...
#15 49.17 * DONE (MCMCpack)
#15 49.21 
#15 49.21 The downloaded source packages are in
#15 49.21 	‘/tmp/Rtmp448eUB/downloaded_packages’
#15 49.27 ── R CMD build ─────────────────────────────────────────────────────────────────
#15 49.73 * checking for file ‘/tmp/Rtmp448eUB/remotes7423f1b49/xuranw-MuSiC-f21fe67/DESCRIPTION’ ... OK
#15 49.84 * preparing ‘MuSiC’:
#15 49.84 * checking DESCRIPTION meta-information ... OK
#15 50.31 * checking for LF line-endings in source and make files and shell scripts
#15 50.31 * checking for empty or unneeded directories
#15 50.31 Omitted ‘LazyData’ from DESCRIPTION
#15 50.32 * building ‘MuSiC_1.0.0.tar.gz’
#15 53.43 
#15 53.49 Installing package into ‘/usr/local/lib/R/site-library’
#15 53.49 (as ‘lib’ is unspecified)
#15 55.81 * installing *source* package ‘MuSiC’ ...
#15 55.81 ** using staged installation
#15 55.83 ** R
#15 55.84 ** byte-compile and prepare package for lazy loading
#15 61.58 Warning messages:
#15 61.58 1: package ‘TOAST’ was built under R version 4.4.1 
#15 61.58 2: package ‘EpiDISH’ was built under R version 4.4.1 
#15 61.58 3: package ‘limma’ was built under R version 4.4.1 
#15 61.58 ** help
#15 61.65 *** installing help indices
#15 61.70 ** building package indices
#15 62.14 ** installing vignettes
#15 62.15 ** testing if installed package can be loaded from temporary location
#15 66.58 Warning: package ‘TOAST’ was built under R version 4.4.1
#15 66.58 Warning: package ‘EpiDISH’ was built under R version 4.4.1
#15 66.58 Warning: package ‘limma’ was built under R version 4.4.1
#15 66.61 ** testing if installed package can be loaded from final location
#15 71.06 Warning: package ‘TOAST’ was built under R version 4.4.1
#15 71.06 Warning: package ‘EpiDISH’ was built under R version 4.4.1
#15 71.06 Warning: package ‘limma’ was built under R version 4.4.1
#15 71.06 ** testing if installed package keeps a record of temporary installation path
#15 71.06 * DONE (MuSiC)
#15 DONE 71.2s

#16 exporting to image
#16 exporting layers 0.1s done
#16 writing image sha256:ea097e5dd35f8cd8b507a21f42dc496c976eac96cc63b80f9a8941ae8b9b138a done
#16 naming to docker.io/ncarrut/liger:zellkonverter done
#16 DONE 0.1s

View build details: docker-desktop://dashboard/build/desktop-linux/desktop-linux/786ccdib4j8tkscx6o3z7me6m
